"use strict";(self.webpackChunksystem=self.webpackChunksystem||[]).push([[8490],{88490:function(e,t,a){a.d(t,{Z:function(){return p}});var l=a(73396),o=a(87139),n=a(44870),r=a(10100);const d={class:"jx-dialog-header"},i=["id"],s={class:"inline-block"},u={key:1},c={key:1,class:"mt10"};var p={__name:"selectDialogTable",props:{loading:{type:Boolean,default:!1},hideClose:{type:Boolean,default:!1},isShow:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},useChoose:{type:Boolean,default:!1},width:{type:String,default:"40%"},dataSource:{type:Object,default:()=>({})},rowStyle:{type:[Boolean,Function],default:!1},title:{type:String,default:""},isShowSearchInput:{type:Boolean,default:!1},searchInputPlaceholder:{type:String,default:""},needEndControl:{type:Boolean,default:!0},needChangeSize:{type:Boolean,default:!0},needSelection:{type:Boolean,default:!1},maxHeight:{type:Number,default:500},appendTableStyle:{type:Object,default:()=>({background:"#126f9e",color:"#fff",borderColor:"rgba(192, 192, 192,.5)"})}},emits:["closeDialog","doDialogSearch","chooseRow","submit"],setup(e,{expose:t,emit:a}){const p=e,g=(0,l.FN)()["proxy"],h=(0,n.iH)(""),y=()=>a("closeDialog"),f=e=>a("chooseRow",e),w=()=>a("doDialogSearch",h.value),m=()=>a("submit");(0,l.YP)((()=>p.isShow),(()=>{h.value="",p.isShow&&0===p.dataSource.tableData.length&&p.dataSource.initData()}));const b=(0,l.Fl)({get(){return p.isShow},set(){}});return t({dialogSearch:(e={})=>{p.dataSource.search(e)}}),(t,a)=>{const p=(0,l.up)("el-button"),S=(0,l.up)("el-input");var C=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(C,{modelValue:b.value,"onUpdate:modelValue":a[4]||(a[4]=e=>b.value=e),"lock-scroll":"",title:e.title,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,fullscreen:e.fullscreen,width:e.width,top:"4%","destroy-on-close":""},{header:(0,l.w5)((({titleId:n,titleClass:r})=>[(0,l._)("div",d,[(0,l._)("div",{id:n,class:(0,o.C_)(r)},[(0,l._)("h4",s,(0,o.zw)(e.title),1),e.isShowSearchInput?((0,l.wg)(),(0,l.j4)(S,{key:0,modelValue:h.value,"onUpdate:modelValue":a[0]||(a[0]=e=>h.value=e),clearable:"",placeholder:e.searchInputPlaceholder,style:{width:"220px","margin-left":"20px","font-weight":"normal"}},{append:(0,l.w5)((()=>[(0,l.Wm)(p,{icon:"Search",onClick:w})])),_:1},8,["modelValue","placeholder"])):(0,l.kq)("",!0),(0,l.WI)(t.$slots,"customOperation")],10,i),(0,l._)("div",null,[e.hideClose?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)(p,{key:0,class:"dialog-close-btn",type:"danger",icon:"CloseBold",circle:"",onClick:y}))])])])),default:(0,l.w5)((()=>[b.value?((0,l.wg)(),(0,l.j4)((0,n.SU)(r.Z),{key:0,ref:"simple","for-mat-data":e.dataSource.forMatData,"options-width":100,loading:e.loading,"show-tips":!1,small:"","need-page":"","max-height":e.maxHeight,"current-page":e.dataSource.currentPage,"table-header":e.dataSource.tableHeader,"table-data":e.dataSource.tableData,"page-size":e.dataSource.pageSize,total:e.dataSource.total,"need-change-size":e.needChangeSize,"need-end-control":e.needEndControl,"need-selection":e.needSelection,"row-style":e.rowStyle,"header-cell-style":e.appendTableStyle,onChooseRow:f,onCurrentChange:a[1]||(a[1]=t=>e.dataSource.currentPageChange(t,e.dataSource,(0,n.SU)(g).$refs.simple)),onSizeChange:a[2]||(a[2]=t=>e.dataSource.pageSizeChange(t,e.dataSource,(0,n.SU)(g).$refs.simple)),onSelectionChange:a[3]||(a[3]=t=>e.dataSource.selectionChange(t,e.dataSource))},{endOption:(0,l.w5)((({row:t})=>[t.children?((0,l.wg)(),(0,l.iD)("span",u," - ")):((0,l.wg)(),(0,l.j4)(p,{key:0,id:"optionsBtn",disabled:e.useChoose,text:"",type:"primary",style:{background:"transparent"},onClick:e=>f(t)},{default:(0,l.w5)((()=>[(0,l.Uk)(" 确定 ")])),_:2},1032,["disabled","onClick"]))])),_:1},8,["for-mat-data","loading","max-height","current-page","table-header","table-data","page-size","total","need-change-size","need-end-control","need-selection","row-style","header-cell-style"])):(0,l.kq)("",!0),e.needSelection?((0,l.wg)(),(0,l.iD)("div",c,[(0,l.Wm)(p,{type:"primary",style:{float:"right","margin-right":"10px"},onClick:m},{default:(0,l.w5)((()=>[(0,l.Uk)(" 确定 ")])),_:1}),(0,l.Wm)(p,{type:"danger",style:{float:"right","margin-right":"10px"},onClick:y},{default:(0,l.w5)((()=>[(0,l.Uk)(" 取消 ")])),_:1})])):(0,l.kq)("",!0)])),_:3},8,["modelValue","title","fullscreen","width"])])}}}},10100:function(e,t,a){a.d(t,{Z:function(){return s}}),a(57658);var l=a(73396),o=a(44870),n=a(87139);const r={class:"table"},d={style:{background:"transparent"},class:"flex-center"},i={key:0,class:"page"};t={__name:"simpleTable",props:{forMatData:{type:Function,default:(e,t)=>e[t.property]??"-"},total:{type:Number,default:0},pageSize:{type:Number,default:10},needChangeSize:{type:Boolean,default:!0},rowStyle:{type:[Boolean,Function],default:!1},loading:{type:Boolean,default:!0},needBorder:{type:Boolean,default:!0},needSummary:{type:Boolean,default:!1},sortable:{type:Boolean,default:!1},needSelection:{type:Boolean,default:!1},small:{type:Boolean,default:!1},optionsWidth:{type:Number,default:260},needEndControl:{type:Boolean,default:!1},showTips:{type:Boolean,default:!0},currentPage:{type:[Number,String],default:1},tips:{type:String,default:"Tips: 按住shift + 鼠标滚轮可以横向滚动表格 && 按住 Ctrl + 鼠标左键快捷选择"},headerCellStyle:{type:Object,default(){return{background:"#126f9e",color:"#fff",borderColor:"rgba(192, 192, 192,.5)",padding:"0px",height:"38px"}}},needPage:{type:Boolean,default:!0},objectSpanMethod:{type:Function,default(){return(e,t,a,l)=>({})}},summary:{type:Function,default(){}},tableHeader:{type:Array,default(){return[]}},detailsTableHeader:{type:Array,default(){return[]}},tableData:{type:Array,default(){return[]}},maxHeight:{type:Number,default:1e3},needIndex:{type:Boolean,default:!1},reserveSelection:{type:Boolean,default:!1}},emits:["selectionChange","currentChange","submit","refresh","chooseRow","sizeChange","cellDbClick"],setup(e,{expose:t,emit:a}){const s=(0,l.FN)()["proxy"],u=(0,o.qj)([]);let c=e=>{u.length=0,u.push(...e),a("selectionChange",e)},p=e=>a("chooseRow",e),g=e=>a("currentChange",e);const h=e=>a("sizeChange",e),y=(e,t,l,o)=>a("cellDbClick",e,t,l,o);return t({clearSelection:function(){s.$refs.tableRef.clearSelection()},setSelect:function(e,t){s.$refs.tableRef.toggleRowSelection(e,t)}}),(t,a)=>{const s=(0,l.up)("el-table-column");var u=(0,l.up)("el-table"),f=(0,l.up)("el-pagination"),w=(0,l.Q2)("loading");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",r,[(0,l.wy)(((0,l.wg)(),(0,l.j4)(u,{ref:"tableRef",class:"table-class",fix:"","highlight-current-row":"",style:{width:"100%"},"show-summary":e.needSummary,"span-method":e.objectSpanMethod,"summary-method":e.summary,data:e.tableData,"row-key":e=>e.id,"max-height":e.maxHeight,"row-style":e.rowStyle||{height:"35px",borderColor:"rgba(192, 192, 192,.5)"},"cell-style":{padding:"0",borderColor:"rgba(192, 192, 192,.5)"},border:e.needBorder,"header-cell-style":e.headerCellStyle,"header-row-style":{borderColor:"rgba(192, 192, 192,.5)"},onCellDblclick:y,onSelectionChange:(0,o.SU)(c),onRowDblclick:(0,o.SU)(p)},{default:(0,l.w5)((()=>[e.needSelection?((0,l.wg)(),(0,l.j4)(s,{key:0,"reserve-selection":e.reserveSelection,type:"selection",width:"55",align:"center",fixed:"left"},null,8,["reserve-selection"])):(0,l.kq)("",!0),e.needIndex?((0,l.wg)(),(0,l.j4)(s,{key:1,label:"序号",type:"index",width:"60",align:"center"},{default:(0,l.w5)((t=>[(0,l._)("span",null,(0,n.zw)((e.currentPage-1)*e.pageSize+t.$index+1),1)])),_:1})):(0,l.kq)("",!0),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.tableHeader,(a=>((0,l.wg)(),(0,l.j4)(s,{key:a.prop,fixed:a.isFixed,label:a.label??a.title,prop:a.prop??a.key,"min-width":a.width,formatter:e.forMatData,align:"center",sortable:e.sortable,"show-overflow-tooltip":""},(0,l.Nv)({_:2},[a.needScope?{name:"default",fn:(0,l.w5)((e=>[(0,l.WI)(t.$slots,a.prop,{row:e.row,index:e.$index})])),key:"0"}:void 0]),1032,["fixed","label","prop","min-width","formatter","sortable"])))),128)),e.needEndControl?((0,l.wg)(),(0,l.j4)(s,{key:2,fixed:"right",label:"操作",align:"center",width:e.optionsWidth},{default:(0,l.w5)((e=>[(0,l._)("div",d,[(0,l.WI)(t.$slots,"endOption",{row:e.row})])])),_:3},8,["width"])):(0,l.kq)("",!0)])),_:3},8,["show-summary","span-method","summary-method","data","row-key","max-height","row-style","cell-style","border","header-cell-style","header-row-style","onSelectionChange","onRowDblclick"])),[[w,e.loading]])]),e.needPage?((0,l.wg)(),(0,l.iD)("div",i,[(0,l.Wm)(f,{"current-page":e.currentPage,background:"",small:e.small,layout:e.needChangeSize?" total, sizes, prev, pager, next":" total, prev, pager, next","page-sizes":[10,20,30,50,100,200,500,1e3],total:e.total,"page-size":e.pageSize,onCurrentChange:(0,o.SU)(g),onSizeChange:h},null,8,["current-page","small","layout","total","page-size","onCurrentChange"])])):(0,l.kq)("",!0)],64)}}};var s=(0,a(40089).Z)(t,[["__scopeId","data-v-2239b978"]])}}]);